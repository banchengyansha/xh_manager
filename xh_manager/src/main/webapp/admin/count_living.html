<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="icon" href="https://static.jianshukeji.com/highcharts/images/favicon.ico">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>
            /* css 代码  */
        </style>
        <script src="https://img.hcharts.cn/highcharts/highcharts.js"></script>
        <script src="https://img.hcharts.cn/highcharts/modules/exporting.js"></script>
        <script src="https://img.hcharts.cn/highcharts-plugins/highcharts-zh_CN.js"></script>
        <script src="../plugins/bower_components/jquery/dist/jquery.min.js"></script>
        
        <script>
        $(function(){
        	$.post('../summary/countLivingCondition.action', function(data){
        		var chart = Highcharts.chart('container',{
    	        	credits:{
    	            	enabled:false
    	            },
    	            chart: {
    	                type: 'column'
    	            },
    	            title: {
    	                text: '老人居住情况统计',
    	                style: { "color": "green", "font-family":"隶书", "fontSize":"40px"}
    	            },
    	            xAxis: {
    	                categories: ['独居',  '与配偶/伴侣居住', '与子女居住',  '与父母居住', '与兄弟姐妹居住', '与其他亲属居住','与非亲属关系人居住 ', '养老机构'],
    	                crosshair: true,
    	                title: {
    	                    text: ''
    	                },
    	                gridLineColor: '#CCC',
    	                gridLineWidth: 1
    	            },
    	            colors:['green'],
    	            yAxis: {
    	                min: 0,
    	                title: {
    	                    text: '数量',
    	                    style:{ "color": "black","fontSize": "15px" }
    	                },
    	                labels:{
    	             	   style:{ "color": "black", "cursor": "default", "fontSize": "15px","font-weight":"bold" }
    	                }
    	            },
    	            tooltip: {
    	                // head + 每个 point + footer 拼接成完整的 table
    	                headerFormat: '<span style="font-size:10px">居住情况: <b>{point.key}</b></span><table>',
    	                pointFormat: '<tr><td style="padding:0">{series.name}: </td>' + '<td style="padding:0"><b>{point.y} 人</b></td></tr>',
    	                footerFormat: '</table>',
    	                shared: true,
    	                useHTML: true
    	            },
    	            plotOptions: {
    	                column: {
    	                    borderWidth: 0
    	                }
    	            },
    	            series: [{
    	            	name:'人数',
    	            	type:'',
    	                data: [data.living_20?data.living_20:0, 
   							   data.living_21?data.living_21:0, 
							   data.living_22?data.living_22:0, 
							   data.living_23?data.living_23:0,
							   data.living_24?data.living_24:0, 
							   data.living_25?data.living_25:0, 
							   data.living_26?data.living_26:0, 
							   data.living_27?data.living_27:0]
    	            }]
    	        });
        	})
        });
        </script>
    </head>
    
    
    <body style="background-color: white;">
        <div id="container" style="height:480px;"></div>
    </body>
</html>